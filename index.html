<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OS Blender Add-ons - Collection d'Addons Blender</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header>
        <div class="container">
            <h1>üé® OS Blender Add-ons</h1>
            <p class="subtitle">Collection d'addons Blender pour am√©liorer votre workflow</p>
            <p class="author">Par <a href="https://oliviersudermann.wixsite.com/olivier-sudermann"
                    target="_blank">Olivier Sudermann</a></p>
        </div>
    </header>

    <main class="container">
        <div class="main-content">
            <section class="installation">
                <h2>üì¶ Installation</h2>
                <ol>
                    <li>T√©l√©chargez le fichier <code>.py</code> de l'addon souhait√©</li>
                    <li>Ouvrez Blender ‚Üí <strong>Edit</strong> ‚Üí <strong>Preferences</strong> ‚Üí <strong>Add-ons</strong>
                    </li>
                    <li>Cliquez sur <strong>Install</strong> et s√©lectionnez le fichier <code>.py</code></li>
                    <li>Activez l'addon en cochant la case</li>
                </ol>
            </section>

            <div class="content-wrapper">
                <div class="addons-grid">
                    <!-- Addon 1: Create Mesh Material Library -->
                    <article class="addon-card">
                        <div class="addon-content">
                            <div class="addon-header">
                                <div class="addon-title-section">
                                    <h2 class="addon-title">Create Mesh Material Library</h2>
                                    <span class="addon-category">Add Mesh</span>
                                </div>
                                <div class="addon-footer">
                                    <a href="Addons/create_mesh_material_library.py"
                                        download="create_mesh_material_library.py" class="download-btn">T√©l√©charger</a>
                                </div>
                            </div>

                            <div class="addon-columns">
                                <div class="addon-column">
                                    <div class="addon-section">
                                        <h3>üìù Description</h3>
                                        <p class="addon-description">
                                            G√©n√®re un mesh Suzanne (singe) √† l'origine de la sc√®ne avec tous les
                                            mat√©riaux
                                            existants du fichier
                                            Blender assign√©s par ordre alphab√©tique. Id√©al pour cr√©er une biblioth√®que
                                            visuelle
                                            de vos
                                            mat√©riaux.
                                        </p>
                                    </div>
                                </div>

                                <div class="addon-column">
                                    <div class="addon-section">
                                        <h3>üéØ Utilisation</h3>
                                        <div class="usage-steps">
                                            <p><code>Shift + A</code> ‚Üí <strong>Mesh</strong> ‚Üí <strong>Material
                                                    Library</strong></p>
                                            <p style="margin-top: 0.5rem; font-size: 0.9rem;">Situ√© juste en dessous de
                                                "Monkey"
                                                dans le
                                                menu</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="addon-column">
                                    <div class="addon-section">
                                        <h3>‚ú® Fonctionnalit√©s</h3>
                                        <ul>
                                            <li>Mesh positionn√© √† l'origine (0, 0, 0)</li>
                                            <li>Tri alphab√©tique automatique des mat√©riaux</li>
                                            <li>Support de l'undo/redo</li>
                                            <li>Gestion intelligente des cas limites</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </article>

                    <!-- Addon 2: Toggle Material Output Connection -->
                    <article class="addon-card">
                        <div class="addon-content">
                            <div class="addon-header">
                                <div class="addon-title-section">
                                    <h2 class="addon-title">Toggle Material Output Connection</h2>
                                    <span class="addon-category">Material</span>
                                </div>
                                <div class="addon-footer">
                                    <a href="Addons/disable_nodes.py" download="disable_nodes.py"
                                        class="download-btn">T√©l√©charger</a>
                                </div>
                            </div>

                            <div class="addon-columns">
                                <div class="addon-column">
                                    <div class="addon-section">
                                        <h3>üìù Description</h3>
                                        <p class="addon-description">
                                            Permet de d√©connecter et reconnecter rapidement tous les shaders des n≈ìuds
                                            Material
                                            Output dans
                                            tous les mat√©riaux du fichier. Utile pour d√©sactiver temporairement le rendu
                                            des
                                            mat√©riaux ou pour le
                                            baking.
                                        </p>
                                    </div>
                                </div>

                                <div class="addon-column">
                                    <div class="addon-section">
                                        <h3>üéØ Utilisation</h3>
                                        <div class="usage-steps">
                                            <p><strong>Properties</strong> ‚Üí <strong>Material</strong> ‚Üí Header ‚Üí Bouton
                                                <strong>Material Output</strong>
                                            </p>
                                            <p style="margin-top: 0.5rem; font-size: 0.9rem;">Choisissez "Disconnect All
                                                Shaders" ou
                                                "Connect All Shaders"</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="addon-column">
                                    <div class="addon-section">
                                        <h3>‚ú® Fonctionnalit√©s</h3>
                                        <ul>
                                            <li>D√©connexion/reconnexion globale</li>
                                            <li>M√©morisation des connexions</li>
                                            <li>Recherche automatique des shaders</li>
                                            <li>Compteur de liens modifi√©s</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </article>

                    <!-- Addon 3: Display Active UV Map -->
                    <article class="addon-card">
                        <div class="addon-content">
                            <div class="addon-header">
                                <div class="addon-title-section">
                                    <h2 class="addon-title">Display Active UV Map</h2>
                                    <span class="addon-category">Object</span>
                                </div>
                                <div class="addon-footer">
                                    <a href="Addons/display_active_uv_map.py" download="display_active_uv_map.py"
                                        class="download-btn">T√©l√©charger</a>
                                </div>
                            </div>

                            <div class="addon-columns">
                                <div class="addon-column">
                                    <div class="addon-section">
                                        <h3>üìù Description</h3>
                                        <p class="addon-description">
                                            Affiche les UV maps actives de tous les objets mesh s√©lectionn√©s dans une
                                            fen√™tre
                                            popup. Permet
                                            de visualiser et de changer rapidement l'UV map active pour plusieurs objets
                                            simultan√©ment.
                                        </p>
                                    </div>
                                </div>

                                <div class="addon-column">
                                    <div class="addon-section">
                                        <h3>üéØ Utilisation</h3>
                                        <div class="usage-steps">
                                            <p><strong>Outliner</strong> ‚Üí Header ‚Üí Bouton <strong>Show UV Maps</strong>
                                            </p>
                                            <p style="margin-top: 0.5rem; font-size: 0.9rem;">S√©lectionnez vos objets
                                                mesh puis
                                                cliquez
                                                sur le bouton</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="addon-column">
                                    <div class="addon-section">
                                        <h3>‚ú® Fonctionnalit√©s</h3>
                                        <ul>
                                            <li>Affichage de toutes les UV maps</li>
                                            <li>Changement rapide de l'UV map active</li>
                                            <li>Support de la s√©lection multiple</li>
                                            <li>Interface popup claire</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </article>

                    <!-- Addon 4: Nettoyeur de Mat√©riaux Suffix√©s -->
                    <article class="addon-card">
                        <div class="addon-content">
                            <div class="addon-header">
                                <div class="addon-title-section">
                                    <h2 class="addon-title">Nettoyeur de Mat√©riaux Suffix√©s</h2>
                                    <span class="addon-category">Material</span>
                                </div>
                                <div class="addon-footer">
                                    <a href="Addons/remove_double_material.py" download="remove_double_material.py"
                                        class="download-btn">T√©l√©charger</a>
                                </div>
                            </div>

                            <div class="addon-columns">
                                <div class="addon-column">
                                    <div class="addon-section">
                                        <h3>üìù Description</h3>
                                        <p class="addon-description">
                                            Supprime automatiquement les suffixes (.001, .002, .003, etc.) des mat√©riaux
                                            dupliqu√©s et
                                            fusionne les doublons. Nettoie votre fichier Blender des mat√©riaux
                                            redondants cr√©√©s
                                            lors d'imports ou de
                                            duplications.
                                        </p>
                                    </div>
                                </div>

                                <div class="addon-column">
                                    <div class="addon-section">
                                        <h3>üéØ Utilisation</h3>
                                        <div class="usage-steps">
                                            <p><strong>Properties</strong> ‚Üí <strong>Material</strong> ‚Üí Header ‚Üí Bouton
                                                <strong>Clean
                                                    Mats</strong>
                                            </p>
                                            <p style="margin-top: 0.5rem; font-size: 0.9rem;">Un clic suffit pour
                                                nettoyer tous
                                                les
                                                mat√©riaux</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="addon-column">
                                    <div class="addon-section">
                                        <h3>‚ú® Fonctionnalit√©s</h3>
                                        <ul>
                                            <li>D√©tection automatique des suffixes</li>
                                            <li>Fusion des mat√©riaux dupliqu√©s</li>
                                            <li>Suppression des mat√©riaux inutilis√©s</li>
                                            <li>Messages de confirmation</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </article>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>D√©velopp√© par <a href="https://oliviersudermann.wixsite.com/olivier-sudermann" target="_blank">Olivier
                    Sudermann</a> avec l'assistance de ChatGPT</p>
            <p style="margin-top: 0.5rem; font-size: 0.9rem;">Compatible avec Blender 4.20+</p>
        </div>
    </footer>

    <script>
        // Fonction pour forcer le t√©l√©chargement des fichiers (compatible local et en ligne)
        document.addEventListener('DOMContentLoaded', function () {
            const downloadButtons = document.querySelectorAll('.download-btn');

            downloadButtons.forEach(button => {
                button.addEventListener('click', function (e) {
                    e.preventDefault();

                    const fileUrl = this.getAttribute('href');
                    const fileName = this.getAttribute('download');

                    // Utiliser XMLHttpRequest pour meilleure compatibilit√© avec file://
                    const xhr = new XMLHttpRequest();
                    xhr.open('GET', fileUrl, true);
                    xhr.responseType = 'blob';

                    xhr.onload = function () {
                        if (xhr.status === 200 || xhr.status === 0) { // 0 pour file://
                            const blob = xhr.response;
                            const url = window.URL.createObjectURL(blob);
                            const a = document.createElement('a');
                            a.style.display = 'none';
                            a.href = url;
                            a.download = fileName;
                            document.body.appendChild(a);
                            a.click();

                            // Nettoyer apr√®s un court d√©lai
                            setTimeout(() => {
                                window.URL.revokeObjectURL(url);
                                document.body.removeChild(a);
                            }, 100);
                        } else {
                            console.error('Erreur de chargement du fichier');
                            // Fallback: ouvrir dans un nouvel onglet
                            window.open(fileUrl, '_blank');
                        }
                    };

                    xhr.onerror = function () {
                        console.error('Erreur lors du t√©l√©chargement');
                        // Fallback: ouvrir dans un nouvel onglet
                        window.open(fileUrl, '_blank');
                    };

                    xhr.send();
                });
            });
        });
    </script>
</body>

</html>